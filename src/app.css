:root { --bg:#ffffff; --text:#1f2328; --muted:#667085; --border:#e5e7eb; --primary:#1677ff; --panel:#f7f7f7 }
html,body { height:100% }
body { margin:0; font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, PingFang SC, Microsoft YaHei, sans-serif; background:var(--bg); color:var(--text) }
.header { display:flex; align-items:center; justify-content:space-between; padding:12px 16px; border-bottom:1px solid var(--border); background:linear-gradient(180deg, #ffffff, #fafafa); position:sticky; top:0; z-index:10 }
.title { font-size:16px; font-weight:600 }
.actions { display:flex; gap:8px; align-items:center }
.btn { appearance:none; border:1px solid var(--border); background:#fff; color:var(--text); padding:8px 12px; border-radius:8px; cursor:pointer }
.btn.primary { background:var(--primary); color:#fff; border-color:var(--primary) }
.btn:active { transform:translateY(1px) }
.toolbar { display:flex; flex-wrap:wrap; gap:8px; padding:8px 16px; border-bottom:1px solid var(--border); background:#fff; position:sticky; top:52px; z-index:9 }
.tool { border:1px solid var(--border); background:#fff; padding:6px 10px; border-radius:8px; cursor:pointer }
.toolbar .group-label { font-size:12px; color:var(--muted); padding-right:4px }
.toolbar .sep { width:1px; height:24px; background:var(--border); margin:0 4px }
.container { display:grid; grid-template-columns: 1fr 1fr; gap:0; height: calc(100vh - 160px) }
.pane { height:100%; overflow:auto }
.editor { padding:12px; background:#fff; border-right:1px solid var(--border) }
.preview { padding:20px; background:#fff }
textarea { width:100%; height:100%; border:none; outline:none; resize:none; font-size:14px; line-height:1.6; font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, monospace }
.toast { position:fixed; right:16px; bottom:16px; background:#111827; color:#fff; padding:8px 12px; border-radius:8px; opacity:0; transform:translateY(8px); transition:all .2s ease }
.toast.show { opacity:1; transform:translateY(0) }
.legend { padding:8px 16px; font-size:12px; color:var(--muted); border-bottom:1px solid var(--border); background:#fff }
.split { display:none }
@media (max-width: 1080px) { .container { grid-template-columns: 1fr } .split { display:block; padding:8px 16px; border-bottom:1px solid var(--border); background:#fff } }

.statusbar { display:flex; align-items:center; justify-content:space-between; gap:12px; padding:6px 16px; border-top:1px solid var(--border); background:#fff; position:sticky; bottom:0; z-index:8; font-size:12px; color:var(--muted) }
.status { display:flex; gap:12px; }
.toggles { display:flex; gap:6px; align-items:center }
.toggle { border:1px solid var(--border); background:#fff; padding:6px 10px; border-radius:8px; cursor:pointer }
.toggle.active { border-color:var(--primary); color:var(--primary) }

.toc { padding:8px 16px; border-bottom:1px solid var(--border); background:#fff }
.toc-title { font-size:12px; color:var(--muted); margin-bottom:6px }
.toc ul { list-style:none; padding:0; margin:0 }
.toc li { padding:4px 0; font-size:13px; cursor:pointer; color:#1677ff }
.toc li[data-level="2"] { padding-left:12px }
.toc li[data-level="3"] { padding-left:24px }

.theme-dark { --bg:#0b0e11; --text:#e6edf3; --muted:#94a3b8; --border:#1f2937; --primary:#3b82f6; --panel:#0f1318 }
.theme-dark body { background:var(--bg); color:var(--text) }
.theme-dark .header, .theme-dark .toolbar, .theme-dark .legend, .theme-dark .editor, .theme-dark .preview, .theme-dark .statusbar, .theme-dark .toc { background:var(--panel); border-color:var(--border) }
.theme-dark .btn, .theme-dark .tool, .theme-dark .toggle { background:var(--panel); border-color:var(--border); color:var(--text) }
